<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>统一事件流 - 冒泡</title>
        <style>
        	p {
        		background: gold;
        		margin: 10px;
        	}
        </style>
    </head>
    <body>
        <p>PPP</p>
        
        <script>
			function bind(elem, type, handler) {
				if (elem.addEventListener) {
					elem.addEventListener(type, handler, false)
				} else {
					elem.attachEvent('on'+type, handler)
				}
			}
			
			// 取dom元素
			var p    = document.getElementsByTagName('p')[0],
				body = document.body
			
			// 事件处理程序
			function handler() {
				alert(this)
			}
			
			// 添加click事件, 点击p后冒泡到window
			bind(p, 'click', handler)
			bind(body, 'click', handler)
			bind(document, 'click', handler)
			bind(window, 'click', handler)
			
        </script>
    </body>
</html>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​